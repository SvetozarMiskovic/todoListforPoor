(()=>{"use strict";function t(t){const e=createListElement(t),n=createDeleteListButton(t),c=createTaskList(t);e.appendChild(n),e.appendChild(c),taskSection.appendChild(e);const i=createOption(t);selectMenu.appendChild(i)}document.querySelector(".task-section");const e=document.getElementById("submitBtn"),n=document.querySelector(".newListBtn"),c=document.querySelector("select"),i=document.querySelector("#todoTask");function s(){const t=document.querySelectorAll(".task-container");let e=[];t.forEach((function(t){const n=t.childNodes[1].childNodes;let c={listID:"",items:[]};c.listID=t.dataset.id,n.forEach((function(t){let e={itemID:"",text:""};e.itemID=t.dataset.id,e.text=t.innerText,c.items.push(e),e={itemID:"",text:""}})),e.push(c),c={listID:"",items:[]}})),localStorage.setItem("TodoLists",JSON.stringify(e))}function o(t){!function(t){const e=[],n=document.querySelectorAll(".task-item");e.push(...n),e.find((e=>e.dataset.id===t)).remove()}(t.target.dataset.id),s()}function a(t,e,n){const c=[],i=document.querySelectorAll(".task-container");c.push(...i);const s=c.find((e=>e.dataset.id===t)),a=function(t,e){const n=function(t){const e=document.createElement("li");return e.setAttribute("data-id",t),e.setAttribute("class","task-item"),e}(t),c=function(t){const e=document.createElement("span");e.setAttribute("class","btns");const n=document.createElement("i");return n.setAttribute("class","fas fa-times-circle removeBtn"),n.setAttribute("data-id",t),n.addEventListener("click",o),e.appendChild(n),e}(t);if(n.textContent=e,n.appendChild(c),e)return n}(e,n);s&&s.children[1].appendChild(a)}document.addEventListener("DOMContentLoaded",(function(){const e=JSON.parse(localStorage.getItem("TodoLists"));e&&e.forEach((function(e){t(e.listID),e.items.forEach((function(t){a(e.listID,t.itemID,t.text)}))}))})),e.onclick=function(t){t.preventDefault();let e=dayjs().valueOf();a(c.value,e,i.value),s(),i.value=""},n.onclick=function(){t(dayjs().valueOf()),s()}})();